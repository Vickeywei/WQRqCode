
二维码生成和扫描的库
1.导入:
如果是使用cocoapods,那么就直接 pod search WQQrCode,这里可能会搜索不到,因为你的本地库还不包含我写的这个库.
你可以先pod setup更新本地库.
然后pod 'WQQrCode', '~> 0.0.2'导入podfile
如果没有安装pod,那么请你先clone 这个demo,然后将工程中classes文件夹下的文件拖入到你的工程中就OK了.
2.使用:
首先导入头文件:#import <WQQRCode.h> #import <WQReadQrCode.h>,拖入的请将<>,替换为"".
首先看生成二维码的代码:
 NSString* dataString = @"345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765345677654345678987545678987654567898765456789876545678765";
    [WQQRCode qr_CodeWithString:dataString imageSize:self.imageView.frame.size.width qrCodeImageCompletionHandle:^(UIImage *qrCodeImage) {
        self.imageView.image = qrCodeImage;
    }];
只需要传入将什么信息只作为二维码即可.而且制作过程已经开辟了子线程去做,并不需要你主动开启线程.
读取二维码:
在你需要使用的地方申明:@property (nonatomic, strong)WQReadQrCode* readCode;,然后在button的点击方法内部:
 self.readCode = [[WQReadQrCode alloc] init];
    self.readCode.completionHandleBlock = ^ (NSString* stringValue){
        NSLog(@"%@",stringValue);
        if ([stringValue containsString:@"com"] | [stringValue containsString:@"https"]) {
            [[UIApplication sharedApplication]openURL:[NSURL URLWithString:stringValue]];
        }
    };
    [_readCode readQrCodeWithView:self.imageView];
    这个block是成功的block,还有没有扫描到数据失败的block.
    
